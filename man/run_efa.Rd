% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_efa.R
\name{run_efa}
\alias{run_efa}
\title{Run Exploratory Factor Analysis}
\usage{
run_efa(
  responses_df,
  program_name,
  milestone_name,
  nfactors = NULL,
  fm = "minres",
  rotate = "oblimin",
  loading_threshold = 0.4,
  cross_loading_threshold = 0.32
)
}
\arguments{
\item{responses_df}{data.frame; Output from get_responses_df()}

\item{program_name}{character; Program type (e.g., "Military", "Civil Works")}

\item{milestone_name}{character; Milestone (e.g., "100\% (Corrected Final Design)")}

\item{nfactors}{integer; Number of factors to extract. If NULL, uses
parallel analysis recommendation.}

\item{fm}{character; Factor extraction method (default "minres"). Options:
"minres" (minimum residual), "ml" (maximum likelihood), "pa" (principal axis),
"wls" (weighted least squares), "gls" (generalized least squares)}

\item{rotate}{character; Rotation method (default "oblimin"). Options:
"oblimin" (oblique), "promax" (oblique), "varimax" (orthogonal), "none"}

\item{loading_threshold}{numeric; Minimum factor loading to report (default 0.40
per Costello & Osborne, 2005)}

\item{cross_loading_threshold}{numeric; Threshold for identifying problematic
cross-loadings (default 0.32 per Costello & Osborne, 2005)}
}
\value{
list containing:
\item{context}{Program and milestone information}
\item{sample}{Sample size and number of items analyzed}
\item{extraction_info}{Extraction method and rotation details}
\item{fit_indices}{TLI, RMSEA, RMSR, and interpretation}
\item{loadings}{Factor loading matrix}
\item{loadings_clean}{Loadings above threshold, suppressed otherwise}
\item{communalities}{Variance explained per item}
\item{variance_explained}{Proportion variance per factor and cumulative}
\item{factor_correlations}{Correlations between factors (if oblique rotation)}
\item{problematic_items}{Items with low communalities or cross-loadings}
\item{fa_object}{Full psych::fa() object for additional analysis}
}
\description{
Perform exploratory factor analysis (EFA) using specified
extraction and rotation methods. Evaluates model fit and returns
factor loadings, communalities, and fit indices.
}
\section{References}{

Fabrigar, L. R., Wegener, D. T., MacCallum, R. C., & Strahan, E. J. (1999).
Evaluating the use of exploratory factor analysis in psychological research.
Psychological Methods, 4(3), 272-299.

Costello, A. B., & Osborne, J. (2005). Best practices in exploratory
factor analysis: Four recommendations for getting the most from your analysis.
Practical Assessment, Research, and Evaluation, 10(7), 1-9.

Hu, L., & Bentler, P. M. (1999). Cutoff criteria for fit indexes in
covariance structure analysis. Structural Equation Modeling, 6(1), 1-55.
}

\section{Interpretation}{

Factor Loadings: Values indicate strength of relationship between
item and factor. Per Costello & Osborne (2005):#'
\itemize{
\item 0.70: Excellent
\item 0.60-0.70: Very good
\item 0.50-0.60: Good
\item 0.40-0.50: Fair (acceptable minimum)
\item < 0.40: Poor (consider removing item)
}

Cross-loadings: Items loading > 0.32 on multiple factors may be
problematic and should be reviewed for theoretical fit.

Communalities: Proportion of variance explained. Values < 0.25 indicate
item is poorly represented by the factor solution.

Fit Indices (per Hu & Bentler, 1999):#'
\itemize{
\item TLI > 0.95: Excellent, 0.90-0.95: Acceptable
\item RMSEA < 0.05: Excellent, 0.05-0.08: Acceptable
\item RMSR < 0.05: Good
}
}

\section{Sample Size Requirements}{

Different extraction methods have different sample size requirements
(per Fabrigar et al., 1999; psych::fa() documentation):
\itemize{
\item \strong{Maximum Likelihood (ml)}: Requires N >= 200. May fail with smaller
samples due to optimization convergence issues.
\item \strong{Minimum Residual (minres)}: Robust for small samples. Recommended
for N < 200.
\item \strong{Principal Axis (pa)}: Robust for small samples.
}

If ml is requested with N < 200, function will issue a warning and
automatically switch to minres.
}


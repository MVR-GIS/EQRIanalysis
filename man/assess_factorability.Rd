% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assess_factorability.R
\name{assess_factorability}
\alias{assess_factorability}
\title{Assess Data Factorability for Factor Analysis}
\usage{
assess_factorability(
  responses_df,
  program_name = NULL,
  milestone_name = NULL,
  multicollinearity_threshold = 0.9,
  use_polychoric = TRUE
)
}
\arguments{
\item{responses_df}{data.frame; Responses from get_responses_df()}

\item{program_name}{character; Program type or NULL for all programs}

\item{milestone_name}{character; Project milestone or NULL for all milestones}

\item{multicollinearity_threshold}{numeric; Correlation threshold (0-1) for
flagging highly correlated item pairs. Default 0.90. Items with |r| above
this are documented but NOT automatically removed (see Note).}

\item{use_polychoric}{logical; Attempt polychoric correlations? Default TRUE.
If FALSE or if polychoric fails, falls back to Pearson correlations.}
}
\value{
list containing correlation matrix, diagnostic results, and
recommendations for proceeding with factor analysis
}
\description{
Evaluate whether data are suitable for factor analysis using
polychoric correlations (appropriate for ordinal data) and diagnostic tests.
Checks for zero-variance items, multicollinearity, and matrix invertibility.
Includes robust error handling for sparse contingency tables.
}
\section{Note on Multicollinearity}{

High multicollinearity is EXPECTED in best practice assessments where
related items naturally correlate. Items are DOCUMENTED but not automatically
removed. Use ridge-regularized factor analysis (correct parameter in fa.poly())
to handle multicollinearity rather than removing theoretically important items.
}

\section{Sample Size Requirements}{

Per Flora & Curran (2004), polychoric correlations require:
\itemize{
\item Dichotomous (2-category) items: N >= 500
\item Trichotomous (3-category) items: N >= 400
\item 5+ category items: N >= 200
}

With smaller samples, function falls back to Pearson correlations with warning.
}

\section{Development Notes}{

This function was updated 2026-02-22 to include robust error handling
for sparse contingency tables and NA correlations per psych::polychoric()
documentation. See \verb{dev/sessions/2026-02-22.md} for complete development context.
}

\references{
Holgado-Tello, F. P., Chacón-Moscoso, S., Barbero-García, I., &
Vila-Abad, E. (2010). Polychoric versus Pearson correlations in
exploratory and confirmatory factor analysis of ordinal variables.
Quality & Quantity, 44(1), 153-166.
https://doi.org/10.1007/s11135-008-9190-y

Flora, D. B., & Curran, P. J. (2004). An empirical evaluation of
alternative methods of estimation for confirmatory factor analysis
with ordinal data. Psychological Methods, 9(4), 466-491.
https://doi.org/10.1037/1082-989X.9.4.466

Revelle, W. (2024). psych: Procedures for Psychological, Psychometric,
and Personality Research. Northwestern University.
https://personality-project.org/r/psych/
See ?psych::polychoric for details on continuity corrections
}
